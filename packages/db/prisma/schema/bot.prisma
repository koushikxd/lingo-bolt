model BotInstallation {
  id              String   @id @default(cuid())
  installationId  Int      @unique
  accountLogin    String
  accountType     String
  defaultLanguage String   @default("en")
  autoTranslate   Boolean  @default(false)
  autoLabel       Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  repoConfigs BotRepoConfig[]
}

model BotRepoConfig {
  id              String          @id @default(cuid())
  installationId  String
  installation    BotInstallation @relation(fields: [installationId], references: [id], onDelete: Cascade)
  repoFullName    String
  defaultLanguage String?
  autoTranslate   Boolean?
  autoLabel       Boolean?
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt

  @@unique([installationId, repoFullName])
  @@index([installationId])
}
